# ISR TO SHOW THE RESULT OF FIBONACII ON PORTOUT
.ORG 0
IN R2				    # PUT ON PORTIN 05H
OR R3, R3
JZ R2
LDD R3, R1
OUT R1                      # NOW THE RESULT ON PORTOUT
L1:
MOV R1,R3
DEC R1
OUT R1                      # IF THE OUTPUT IS NOT READY, IT WILL OUT 0FFH
RTI

.ORG 20
# int Fabonaaci(int N)
IN R1                       # PUT ON PORTIN 36H
IN R7                       # PUT ON PORTIN 50H, R7 WILL ACT AS SI IN x86
IN R2				    # PUT ON PORTIN 2BH

STD R0, R7                  # R0 WILL ACT AS AL IN x86          
INC R7
INC R0
STD R0, R7
LDD R3, R5                  # PUT THE (N) AT 00H, R5 WILL ACT AS CX IN X86
DEC R5
DEC R5

L2:
MOV R7, R6
DEC R6
LDD R6, R0
LDD R7, R4
ADD R4, R0
INC R7
STD R0, R7
DEC R5
JN R2
DEC R3
STD R0, R3			    

OUT R0